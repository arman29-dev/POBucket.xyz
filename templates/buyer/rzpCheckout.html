{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>

    <link rel="stylesheet" href="{% static 'css/rzpCheckout.css' %}">
    <link rel="stylesheet" href="{% static 'css/bgStyle.css' %}">

    <title>POBâ€¢Payment</title>
</head>
<body class="bg-grid">
    <div class="payment-container">
        <div class="left-section">
            <svg class="payment-illustration" viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg">
                <rect x="50" y="150" width="300" height="180" rx="20" fill="#4CAF50" opacity="0.9"/>
                <rect x="50" y="150" width="300" height="50" rx="20" fill="#45a049"/>
                <rect x="70" y="220" width="80" height="15" rx="7" fill="#ffffff" opacity="0.8"/>
                <rect x="70" y="250" width="120" height="15" rx="7" fill="#ffffff" opacity="0.6"/>
                <rect x="70" y="280" width="60" height="15" rx="7" fill="#ffffff" opacity="0.4"/>

                <rect x="80" y="170" width="30" height="25" rx="5" fill="#FFD700"/>
                <rect x="85" y="175" width="20" height="15" rx="2" fill="#FFA500"/>

                <text x="200" y="190" fill="white" font-family="monospace" font-size="14" text-anchor="middle">**** **** **** 1234</text>

                <circle cx="320" cy="100" r="40" fill="#2196F3" opacity="0.2"/>
                <path d="M320 70 L340 85 L340 115 L320 130 L300 115 L300 85 Z" fill="#2196F3"/>
                <path d="M315 95 L325 105 L335 85" stroke="white" stroke-width="3" fill="none" stroke-linecap="round"/>

                <circle cx="100" cy="80" r="25" fill="#4CAF50" opacity="0.3"/>
                <text x="100" y="88" fill="#4CAF50" font-size="24" font-weight="bold" text-anchor="middle">â‚¹</text>

                <circle cx="320" cy="320" r="20" fill="#FF9800" opacity="0.3"/>
                <text x="320" y="328" fill="#FF9800" font-size="18" font-weight="bold" text-anchor="middle">$</text>

                <circle cx="80" cy="350" r="8" fill="#9C27B0" opacity="0.4"/>
                <circle cx="350" cy="60" r="12" fill="#E91E63" opacity="0.4"/>
                <circle cx="30" cy="200" r="6" fill="#00BCD4" opacity="0.4"/>
            </svg>

            <a href="#" class="cancel-link" onclick="cancelPayment()">Cancel Payment</a>
        </div>

        <div class="right-section">
            <div class="payment-header">
                <h1 class="payment-title">Payment Summary</h1>
                <p class="payment-subtitle">Review your order details</p>
            </div>

            <div class="payment-summary">
                <div class="summary-item">
                    <span class="item-label">Product name</span>
                    <span class="item-value">{{ product.name }}</span>
                </div>
                <div class="summary-item">
                    <span class="item-label">Product Price</span>
                    <span class="item-value" id="price" data-raw="{{ product.price }}"></span>
                </div>
                <div class="summary-item">
                    <span class="item-label">Platform Fee</span>
                    <span class="item-value">â‚¹100</span>
                </div>
                <div class="summary-item">
                    <span class="total-label">Total Amount</span>
                    <span class="total-value" id="total" data-raw="{{ total }}"></span>
                </div>
            </div>

            <button class="payment-button" id="pay-btn">
                <span class="button-text">Pay Now</span>
            </button>

            <div class="security-note">
                <span class="security-icon">ðŸ”’</span>
                Your payment information is secure and encrypted
            </div>
        </div>
    </div>

    <script>
        const RZP_CONTEXT = {
          product_name: "{{ product.name|escapejs }}",
          fullname: "{{ user.fullname|escapejs }}",
          userEmail: "{{ user.email|escapejs }}",
        }
    </script>
    <script src="{% static 'js/rzpCheckout.js' %}"></script>
</body>
</html>
